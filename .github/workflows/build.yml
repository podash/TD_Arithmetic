name: Go

on:
  push:
    branches: 
     - master

jobs:
  build:
    runs-on: ubuntu-latest
    steps:  
    - name: Setup Go environment
    - uses: actions/checkout@v2
    - uses: actions/setup-go@v2.1.3
      with:
    # The Go version to download (if necessary) and use. Supports semver spec and ranges.
    go-version: # optional
    # Whether to download only stable versions
    stable: # optional, default is true
    # Used to pull node distributions from go-versions.  Since there's a default, this is typically not supplied by the user.
    token: # optional, default is ${{ github.token }}
    
    - name: Clean
    run: rm -rf out
    	
    -name: Build
    run: mkdir -p out
    run: go build -o out/example ./cmd/example
     
    -name: Test
    	run: go vet
	run: go test
    

      
